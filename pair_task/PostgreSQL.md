# PostgreSQL

PostgreSQL은 오픈소스 관계형 데이터베이스 관리 시스템입니다. 1986년부터 개발되어온 오래된 역사를 가진 DB인데, 최근 몇 년간 가장 인기 있는 오픈소스 DB 중 하나로 자리잡았습니다.

## 주요 특징 6가지

### 1. ACID 완전 준수
트랜잭션의 원자성, 일관성, 고립성, 지속성을 완벽하게 보장합니다. 은행이나 금융 시스템처럼 데이터 정확성이 중요한 곳에서도 안심하고 사용할 수 있습니다.

### 2. 다양한 데이터 타입 지원
정수, 문자열 같은 기본 타입뿐만 아니라 JSON, JSONB, 배열, 범위 타입, UUID, 지리공간 데이터 등 다양한 타입을 네이티브로 지원합니다. 특히 JSONB는 인덱싱까지 지원해서 NoSQL처럼 사용할 수도 있습니다.

### 3. 확장성 (Extensions)
PostgreSQL은 확장 기능이 매우 강력합니다. PostGIS(지리공간 데이터), pg_trgm(텍스트 검색), hstore(키-값 저장) 등 수많은 확장을 설치해서 기능을 확장할 수 있습니다.

### 4. MVCC (다중 버전 동시성 제어)
읽기와 쓰기가 서로 블로킹하지 않습니다. 읽는 쪽은 이전 버전을 보고, 쓰는 쪽은 새 버전을 만들어서 동시에 작업할 수 있어서 성능이 좋습니다.

### 5. 강력한 쿼리 기능
복잡한 JOIN, 서브쿼리, 윈도우 함수, CTE(Common Table Expression) 등 고급 SQL 기능을 잘 지원합니다. 데이터 분석이나 복잡한 비즈니스 로직을 쿼리로 처리하기 좋습니다.

### 6. 오픈소스이면서 엔터프라이즈급
완전 무료인데도 상용 DB 수준의 기능과 안정성을 제공합니다. 라이선스 걱정 없이 상업적으로도 사용할 수 있고, 커뮤니티 지원도 활발합니다.

## 다른 DB와의 차별점

### MySQL과 비교
MySQL은 웹 애플리케이션에 최적화되어 있고 읽기 성능이 뛰어납니다. 반면 PostgreSQL은 복잡한 쿼리와 데이터 무결성에 더 강점이 있습니다. MySQL은 단순한 CRUD 작업이 많을 때, PostgreSQL은 복잡한 비즈니스 로직이나 데이터 분석이 필요할 때 적합합니다.

### Oracle과 비교
Oracle은 엔터프라이즈 기능이 많고 성능도 뛰어나지만 라이선스 비용이 매우 비쌉니다. PostgreSQL은 Oracle의 많은 기능을 무료로 제공합니다. 다만 대규모 엔터프라이즈 환경에서는 Oracle의 고급 기능이나 지원이 더 필요할 수 있습니다.

### MongoDB 같은 NoSQL과 비교
NoSQL은 스키마가 유연하고 수평 확장이 쉽지만, 복잡한 JOIN이나 트랜잭션이 약합니다. PostgreSQL은 JSONB 타입으로 NoSQL처럼 사용할 수도 있고, 필요할 때는 관계형 기능도 활용할 수 있어서 하이브리드로 사용하기 좋습니다.

## 장점

- 완전 무료 오픈소스라서 라이선스 비용이 없습니다
- 데이터 무결성과 ACID를 철저히 지켜서 신뢰성이 높습니다
- 복잡한 쿼리와 데이터 분석에 강합니다
- 다양한 데이터 타입과 확장 기능으로 유연합니다
- 커뮤니티가 활발하고 문서화가 잘 되어 있습니다
- JSONB로 NoSQL처럼도 사용 가능합니다

## 단점

- 단순한 읽기 작업만 많을 때는 MySQL보다 느릴 수 있습니다
- 메모리 사용량이 상대적으로 많습니다
- 수평 확장(샤딩)은 NoSQL보다 어렵습니다
- 설정과 튜닝이 복잡할 수 있습니다
- 일부 상용 DB의 고급 기능은 부족할 수 있습니다

## 유즈케이스

### 웹 애플리케이션 백엔드
Django, Rails, Node.js 등과 함께 사용해서 사용자 데이터, 주문, 결제 정보 등을 저장합니다. 트랜잭션이 중요한 전자상거래나 SaaS 서비스에 적합합니다.

### 데이터 분석 및 보고
복잡한 집계 쿼리, 윈도우 함수, CTE를 활용해서 비즈니스 인텔리전스나 데이터 웨어하우스로 사용합니다.

### 지리공간 데이터 처리
PostGIS 확장을 사용해서 지도, 위치 기반 서비스, 부동산 시스템 등을 구축합니다.

### 하이브리드 데이터 저장
관계형 데이터와 JSON 데이터를 함께 저장해야 할 때, PostgreSQL의 JSONB 타입을 활용해서 하나의 DB로 처리합니다.

### 엔터프라이즈 애플리케이션
중소기업이나 스타트업에서 Oracle 같은 상용 DB 대신 비용 절감을 위해 사용합니다. 무료이면서도 엔터프라이즈급 기능을 제공합니다.

### 마이크로서비스 아키텍처
각 서비스마다 독립적인 PostgreSQL 인스턴스를 두고, 서비스 간 데이터 일관성을 유지하면서도 서로 독립적으로 운영할 수 있습니다.
